<!doctype html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Make Coffee</title>
</head>
<body>
  <h2>ì»¤í”¼ ì£¼ë¬¸ ì‹œìŠ¤í…œ</h2>
  <button onclick="handleOrder()">ì»¤í”¼ ì£¼ë¬¸í•˜ê¸°</button>
  <div id="log"></div>
</body>
<script>
  let orderNumber = 0;

  // ì»¤í”¼ ë§Œë“œëŠ” í•¨ìˆ˜ (Promise + async/await)
  function makeCoffee(orderId) {
    return new Promise((resolve) => {
      setTimeout(() => {
        resolve(`[${orderId}ë²ˆì§¸ ì£¼ë¬¸] ğŸ‘ ì»¤í”¼ê°€ ì™„ì„± ë˜ì—ˆìŠµë‹ˆë‹¤.`);
      }, 3000)
    })
  }

  // ì£¼ë¬¸ ì²˜ë¦¬ í•¨ìˆ˜
  async function handleOrder () {
    orderNumber++;
    const currentOrder = orderNumber;

    const log = document.getElementById('log');
    const logItem = document.createElement('div');
    logItem.className = "log-item";
    logItem.id = `order-${currentOrder}`;
    logItem.textContent = `[${currentOrder}ë²ˆì§¸ ì£¼ë¬¸] ì»¤í”¼ë¥¼ ë§Œë“œëŠ” ì¤‘ì…ë‹ˆë‹¤. ğŸ«¡`;
    log.appendChild(logItem);

    logItem.textContent = await makeCoffee(currentOrder);
  }
</script>
</html>